==================
WARNING: ThreadSanitizer: data race (pid=94528)
  Read of size 4 at 0x7fffd30b2548 by main thread:
    #0 test_select_and_non_blocking_receive /home/htillinger/p3-tgroup20/test.c:1512 (channel_sanitize+0xa96d4)
    #1 test_select_and_non_blocking_receive_buffered /home/htillinger/p3-tgroup20/test.c:1531 (channel_sanitize+0xa97ec)
    #2 single_test /home/htillinger/p3-tgroup20/test.c:2057 (channel_sanitize+0xaa985)
    #3 main /home/htillinger/p3-tgroup20/test.c:2096 (channel_sanitize+0x95be)

  Previous write of size 4 at 0x7fffd30b2548 by thread T1:
    #0 helper_select /home/htillinger/p3-tgroup20/test.c:103 (channel_sanitize+0xa40e5)

  As if synchronized via sleep:
    #0 usleep <null> (channel_sanitize+0x36e8f)
    #1 test_select_and_non_blocking_receive /home/htillinger/p3-tgroup20/test.c:1510 (channel_sanitize+0xa96cc)
    #2 test_select_and_non_blocking_receive_buffered /home/htillinger/p3-tgroup20/test.c:1531 (channel_sanitize+0xa97ec)
    #3 single_test /home/htillinger/p3-tgroup20/test.c:2057 (channel_sanitize+0xaa985)
    #4 main /home/htillinger/p3-tgroup20/test.c:2096 (channel_sanitize+0x95be)

  Location is stack of main thread.

  Location is global '<null>' at 0x000000000000 ([stack]+0x00000001f548)

  Thread T1 (tid=94530, finished) created by main thread at:
    #0 pthread_create <null> (channel_sanitize+0x12982)
    #1 test_select_and_non_blocking_receive /home/htillinger/p3-tgroup20/test.c:1507 (channel_sanitize+0xa96c2)
    #2 test_select_and_non_blocking_receive_buffered /home/htillinger/p3-tgroup20/test.c:1531 (channel_sanitize+0xa97ec)
    #3 single_test /home/htillinger/p3-tgroup20/test.c:2057 (channel_sanitize+0xaa985)
    #4 main /home/htillinger/p3-tgroup20/test.c:2096 (channel_sanitize+0x95be)

SUMMARY: ThreadSanitizer: data race /home/htillinger/p3-tgroup20/test.c:1512 in test_select_and_non_blocking_receive
==================
==================
WARNING: ThreadSanitizer: thread leak (pid=94528)
  Thread T1 (tid=94530, finished) created by main thread at:
    #0 pthread_create <null> (channel_sanitize+0x12982)
    #1 test_select_and_non_blocking_receive /home/htillinger/p3-tgroup20/test.c:1507 (channel_sanitize+0xa96c2)
    #2 test_select_and_non_blocking_receive_buffered /home/htillinger/p3-tgroup20/test.c:1531 (channel_sanitize+0xa97ec)
    #3 single_test /home/htillinger/p3-tgroup20/test.c:2057 (channel_sanitize+0xaa985)
    #4 main /home/htillinger/p3-tgroup20/test.c:2096 (channel_sanitize+0x95be)

SUMMARY: ThreadSanitizer: thread leak (/home/htillinger/p3-tgroup20/channel_sanitize+0x12982) in __interceptor_pthread_create
==================
ThreadSanitizer: reported 2 warnings
Running test case: test_select_and_non_blocking_receive_buffered : Testing select and non-blocking receive : buffered ...
channel size is 1
--------------------

send blocking
  sent Message
FAILURE: See test.c Line 1512: test_select_and_non_blocking_receive: It isn't blocked as expected
Tests run: 1
